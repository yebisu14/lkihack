<html>
<body>
    <div id="gyro"></div>

    <script>
        var socket = new WebSocket('ws://192.168.253.224:8080/');

        // 接続時のイベント
        socket.onopen = function (evt) {
          console.log('Connected');
        };

        // 切断時のイベント
        socket.onclose = function (evt) {
          console.log('Disconnected');
        };

        // メッセージ受信時のイベント
        socket.onmessage = function (evt) {
          console.log(evt.data);
          if (evt.data === 'Hello 3') {
            socket.close();
          }
        };

        // エラー発生時のイベント
        socket.onerror = function (evt) {
          console.log('Error: ' + evt.data);
        };


        window.addEventListener('deviceorientation', function(e) {
            var str   = '',
                alpha = e.alpha,
                beta  = e.beta,
                gamma = e.gamma;

            str  = 'alpha = ' + alpha + '\n';
            str += 'beta = '  + beta + '\n';
            str += 'gamma = ' + gamma + '\n';

            document.getElementById("gyro").innerHTML = str;
            
            socket.send("" + e.alpha);
        }, false);
    </script>

    <input type="button" value="ToggleMove" onclick="socket.send('togglemove');"/>
    <input type="button" value="Spring" onclick="socket.send('spring');"/>
    <input type="button" value="Summer" onclick="socket.send('summer');"/>
    <input type="button" value="Autumn" onclick="socket.send('autumn');"/>
    <input type="button" value="Winter" onclick="socket.send('winter');"/>
    <input type="button" value="Mode change" onclick="socket.send('nextscene');"/>

</body>
</html>
